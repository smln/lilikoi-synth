#N canvas 0 96 1920 984 10;
#N canvas 0 50 450 250 (subpatch) 0;
#X array waveout 100 float 3;
#A 0 0.1025 0.103681 0.104915 0.106213 0.107545 0.108867 0.11016 0.111432
0.112681 0.113881 0.115006 0.116063 0.117075 0.118057 0.119005 0.119917
0.120801 0.121655 0.122453 0.123157 0.123762 0.124307 0.124846 0.125409
0.125992 0.126584 0.127195 0.127843 0.128531 0.129227 0.129875 0.130423
0.130837 0.131103 0.131243 0.131313 0.131385 0.131514 0.131716 0.131973
0.132247 0.132489 0.132646 0.132659 0.132485 0.132122 0.131623 0.131091
0.130632 0.130309 0.130118 0.130004 0.129902 0.129768 0.12959 0.129376
0.129121 0.128783 0.128298 0.127619 0.12676 0.125792 0.124814 0.123904
0.123094 0.122367 0.121681 0.120993 0.120279 0.11953 0.118744 0.117905
0.11697 0.115893 0.114657 0.113304 0.111924 0.110615 0.109433 0.108373
0.107375 0.106342 0.105191 0.103887 0.102434 0.100848 0.0991472 0.0973826
0.0956433 0.0940259 0.0925763 0.0912683 0.0900315 0.0887911 0.0874834
0.0860562 0.0844787 0.082755 0.0809221 0.0790288;
#X coords 0 1 100 -1 200 140 1 0 0;
#X restore 1113 373 graph;
#X obj 1200 637 tabwrite~ waveout;
#X obj 1209 601 metro 100;
#X obj 1209 576 loadbang;
#X obj 395 68 r imagedarkfromcpp;
#X text 392 38 //bang if image is black;
#X obj 565 67 r imagewhitefromcpp;
#X text 564 41 //bang if image is white;
#X obj 932 70 r sceneobjectmovementfromcpp;
#X obj 1298 63 r cameramovedownfromcpp;
#X obj 1319 91 r cameramoveupfromcpp;
#X obj 1340 120 r cameramoveleftfromcpp;
#X obj 1365 145 r cameramoverightfromcpp;
#X text 1298 36 //bang signal if camera is moving a certain way;
#X obj 1386 171 r cameraspinningfromcpp;
#X obj 1649 89 r cppinitialized;
#X text 924 38 //movement of scene objects if camera is not moving
//ranges from 0-1;
#X text 1631 55 //bang sent when all params have been sent //at least
once;
#X obj 1098 582 catch~ \$0-output;
#N canvas 222 261 1440 720 drone_synth 0;
#X obj 473 817 outlet~;
#X obj 384 707 expr~ $v1 * abs($v2);
#X obj 496 665 osc~ 0.2;
#X obj 352 464 osc~ 111;
#X obj 502 68 r significant_down_move;
#X obj 666 65 r significant_up_move;
#X obj 576 210 line 111;
#X obj 658 274 r moveclock;
#X obj 752 368 spigot;
#X msg 780 310 0;
#X msg 731 335 1;
#X obj 816 116 r significant_left_move;
#X obj 972 117 r significant_right_move;
#X obj 944 226 line 0.2;
#X text 761 283 //reset oscillators if no longer moving;
#X text 605 26 //change frequency of oscillator if camera moving up/down
;
#X text 842 80 //change lfo frequency of l/r move;
#X obj 658 297 t b b;
#X msg 512 157 101 250;
#X msg 665 161 142.6 250;
#X msg 721 426 111 250;
#X msg 786 429 0.2 1000;
#X msg 880 173 4 1000;
#X obj 264 380 loadbang;
#X obj 265 430 squareosc~;
#X obj 315 406 0.5;
#X obj 265 406 f 32.7;
#X text 380 442 //sine wave oscillator;
#X text 171 413 //square wave;
#X obj 53 305 r contoursfromcpp;
#X obj 42 422 expr 1 - $f1;
#X obj 314 533 +~;
#X obj 49 246 loadbang;
#X obj 49 269 f 40;
#X obj 92 14 r pianotrigger;
#X obj 101 198 mtof;
#X msg 92 87 \$1;
#X msg 37 151 24;
#X msg 76 149 26;
#X msg 114 150 28;
#X msg 148 150 29;
#X msg 181 152 31;
#X msg 220 150 33;
#X msg 259 150 35;
#X obj 92 64 random 3;
#X obj 92 112 route 0 1 2;
#X msg 92 37 bang;
#X obj 202 19 loadbang;
#X msg 241 187 38;
#X msg 202 42 seed 96;
#X text 136 86 //@@@do I want this? It's not the most peaceful vibes
;
#X obj 352 487 *~ 1;
#X obj 42 399 min 1;
#X obj 264 488 *~ 0;
#X obj 265 454 /~ 8;
#X obj 384 730 *~ 2;
#X obj 474 785 *~ 1;
#X text 150 350 //mix square and sine based on contours;
#X obj 42 335 / 128;
#X connect 1 0 55 0;
#X connect 2 0 1 1;
#X connect 3 0 51 0;
#X connect 4 0 18 0;
#X connect 5 0 19 0;
#X connect 6 0 3 0;
#X connect 7 0 17 0;
#X connect 8 0 20 0;
#X connect 8 0 21 0;
#X connect 9 0 8 1;
#X connect 10 0 8 1;
#X connect 11 0 22 0;
#X connect 12 0 22 0;
#X connect 13 0 2 0;
#X connect 17 0 10 0;
#X connect 17 1 8 0;
#X connect 18 0 6 0;
#X connect 18 0 9 0;
#X connect 19 0 6 0;
#X connect 19 0 9 0;
#X connect 20 0 6 0;
#X connect 21 0 13 0;
#X connect 22 0 13 0;
#X connect 23 0 25 0;
#X connect 23 0 26 0;
#X connect 24 0 54 0;
#X connect 25 0 24 2;
#X connect 26 0 24 0;
#X connect 29 0 58 0;
#X connect 30 0 51 1;
#X connect 31 0 1 0;
#X connect 32 0 33 0;
#X connect 33 0 58 0;
#X connect 34 0 46 0;
#X connect 36 0 45 0;
#X connect 37 0 35 0;
#X connect 38 0 35 0;
#X connect 39 0 35 0;
#X connect 40 0 35 0;
#X connect 41 0 35 0;
#X connect 42 0 35 0;
#X connect 43 0 35 0;
#X connect 44 0 36 0;
#X connect 45 0 48 0;
#X connect 45 1 41 0;
#X connect 45 2 43 0;
#X connect 46 0 44 0;
#X connect 47 0 49 0;
#X connect 48 0 35 0;
#X connect 49 0 44 1;
#X connect 51 0 31 1;
#X connect 52 0 30 0;
#X connect 52 0 53 1;
#X connect 53 0 31 0;
#X connect 54 0 53 0;
#X connect 55 0 56 0;
#X connect 56 0 0 0;
#X connect 58 0 52 0;
#X restore 726 520 pd drone_synth;
#X obj 204 333 mtof;
#X floatatom 204 356 5 0 0 0 - - -, f 5;
#X floatatom 203 288 5 0 0 0 - - -, f 5;
#X obj 535 930 dac~;
#X obj 536 902 clip~ -1 1;
#X obj 666 937 throw~ \$0-output;
#X text 668 311 //we want range 55 - 79 //24 possible values means
divide by 7.5 //then add 55;
#X text 263 297 //midi 67 or 391.995 Hz is Middle G //I want C Major
scale;
#X obj 495 545 piano_sampler;
#N canvas 0 96 1920 984 piano_note_gen 0;
#X obj 565 634 outlet notes;
#X obj 890 143 delay;
#X obj 525 582 f;
#X obj 559 582 f;
#X obj 594 581 f;
#X obj 812 16 r cppinitialized;
#X obj 935 89 random 9000;
#X obj 935 112 + 1000;
#X obj 935 47 loadbang;
#X text 1037 71 //every 1-10 seconds trigger a piano chord;
#X obj 865 52 t b b;
#X obj 802 318 t f b;
#X obj 802 347 delay;
#X obj 802 256 spigot 1;
#X obj 743 168 f 0;
#X obj 743 205 f 1;
#X obj 945 334 t f b;
#X obj 945 363 delay;
#X obj 945 272 spigot 1;
#X obj 886 184 f 0;
#X obj 886 221 f 1;
#X obj 1097 333 t f b;
#X obj 1102 369 delay;
#X obj 1097 271 spigot 1;
#X obj 1038 183 f 0;
#X obj 1038 220 f 1;
#X text 1160 225 //have a random delay for each note to be pressed
after main trigger;
#X obj 802 290 random 1000;
#X obj 945 306 random 1000;
#X obj 1097 305 random 1000;
#X text 1045 97 //@@@TODO maybe have this number be affected by CV
stuff?;
#X obj 1065 132 s pianotrigger;
#X obj 94 259 r huemaxfromcpp;
#X text 170 224 //three dominant hues if not gray/white/black. //Values
range 0-180;
#X obj 264 255 r huesecondmaxfromcpp;
#X obj 435 253 r huethirdmaxfromcpp;
#X obj 94 330 change;
#X obj 264 278 f;
#X obj 435 276 f;
#X text 491 322 //change range to 1-14;
#X obj 263 327 change;
#X obj 435 324 change;
#X obj 64 286 expr rint($f1 * 14 / 180) + 1;
#X obj 255 301 expr rint($f1 * 14 / 180) + 1;
#X obj 445 298 expr rint($f1 * 14 / 180) + 1;
#X obj 1098 497 print piano_trigger;
#X connect 1 0 10 0;
#X connect 1 0 13 0;
#X connect 1 0 18 0;
#X connect 1 0 23 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 5 0 1 0;
#X connect 5 0 13 0;
#X connect 5 0 18 0;
#X connect 5 0 23 0;
#X connect 6 0 7 0;
#X connect 6 0 31 0;
#X connect 6 0 45 0;
#X connect 7 0 1 1;
#X connect 8 0 6 0;
#X connect 10 0 6 0;
#X connect 10 1 1 0;
#X connect 11 0 12 1;
#X connect 11 1 12 0;
#X connect 11 1 14 0;
#X connect 12 0 2 0;
#X connect 12 0 15 0;
#X connect 13 0 27 0;
#X connect 14 0 13 1;
#X connect 15 0 13 1;
#X connect 16 0 17 1;
#X connect 16 1 17 0;
#X connect 16 1 19 0;
#X connect 17 0 20 0;
#X connect 17 0 3 0;
#X connect 18 0 28 0;
#X connect 19 0 18 1;
#X connect 20 0 18 1;
#X connect 21 0 22 1;
#X connect 21 1 22 0;
#X connect 21 1 24 0;
#X connect 22 0 25 0;
#X connect 22 0 4 0;
#X connect 23 0 29 0;
#X connect 24 0 23 1;
#X connect 25 0 23 1;
#X connect 27 0 11 0;
#X connect 28 0 16 0;
#X connect 29 0 21 0;
#X connect 32 0 42 0;
#X connect 34 0 37 0;
#X connect 35 0 38 0;
#X connect 36 0 2 1;
#X connect 37 0 43 0;
#X connect 38 0 44 0;
#X connect 40 0 3 1;
#X connect 41 0 4 1;
#X connect 42 0 36 0;
#X connect 43 0 40 0;
#X connect 44 0 41 0;
#X restore 495 517 pd piano_note_gen;
#X text 27 34 //number of contours in image \, something like 0 - 100
;
#X obj 50 69 r contoursfromcpp;
#X obj 52 164 r huemaxfromcpp;
#X text 128 129 //three dominant hues if not gray/white/black. //Values
range 0-180;
#X obj 222 160 r huesecondmaxfromcpp;
#X obj 393 158 r huethirdmaxfromcpp;
#N canvas 0 249 1636 799 significant_movement_detector 0;
#X obj 601 36 r cameramovedownfromcpp;
#X obj 759 37 r cameramoveupfromcpp;
#X obj 906 37 r cameramoveleftfromcpp;
#X obj 1070 39 r cameramoverightfromcpp;
#X obj 1210 105 r cameraspinningfromcpp;
#X obj 367 108 metro 250;
#X obj 367 89 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 366 64 r cppinitialized;
#X obj 418 263 + 1;
#X obj 418 234 f 0;
#X text 457 236 //counter;
#X obj 367 132 f 0;
#X obj 375 280 >;
#X obj 159 82 loadbang;
#X obj 375 354 spigot;
#X obj 375 331 bang;
#X obj 159 106 f 2;
#X obj 375 303 change;
#X obj 375 377 s significant_down_move;
#X obj 627 294 + 1;
#X obj 627 265 f 0;
#X text 666 267 //counter;
#X obj 584 311 >;
#X obj 584 385 spigot;
#X obj 584 362 bang;
#X obj 584 334 change;
#X obj 584 408 s significant_up_move;
#X obj 749 593 + 1;
#X obj 749 564 f 0;
#X text 788 566 //counter;
#X obj 706 610 >;
#X obj 706 684 spigot;
#X obj 706 661 bang;
#X obj 706 633 change;
#X obj 1017 409 + 1;
#X obj 1017 380 f 0;
#X text 1056 382 //counter;
#X obj 974 426 >;
#X obj 974 500 spigot;
#X obj 974 477 bang;
#X obj 974 449 change;
#X obj 706 707 s significant_left_move;
#X obj 974 523 s significant_right_move;
#X obj 434 131 s moveclock;
#X obj 1237 242 + 1;
#X obj 1237 213 f 0;
#X text 1276 215 //counter;
#X obj 1194 259 >;
#X obj 1194 333 spigot;
#X obj 1194 310 bang;
#X obj 1194 282 change;
#X obj 1111 216 / 2;
#X text 149 41 //number of frames in a quarter second (6) of movement
we need to call it significant;
#X obj 1193 372 s significant_spin;
#X obj 301 551 f 0;
#X obj 301 574 moses 1;
#X msg 295 616 bang;
#X obj 281 677 s significant_move_any;
#X msg 316 526 69;
#X msg 303 651 0;
#X text 149 719 //if any camera movement is significant send a bang
here;
#X connect 0 0 9 0;
#X connect 1 0 20 0;
#X connect 2 0 28 0;
#X connect 3 0 35 0;
#X connect 4 0 45 0;
#X connect 5 0 11 0;
#X connect 5 0 43 0;
#X connect 5 0 54 0;
#X connect 6 0 5 0;
#X connect 7 0 6 0;
#X connect 8 0 9 1;
#X connect 9 0 8 0;
#X connect 9 0 12 0;
#X connect 11 0 9 0;
#X connect 11 0 20 0;
#X connect 11 0 28 0;
#X connect 11 0 35 0;
#X connect 11 0 45 0;
#X connect 12 0 14 1;
#X connect 12 0 17 0;
#X connect 13 0 16 0;
#X connect 14 0 18 0;
#X connect 15 0 14 0;
#X connect 15 0 58 0;
#X connect 16 0 12 1;
#X connect 16 0 22 1;
#X connect 16 0 30 1;
#X connect 16 0 37 1;
#X connect 16 0 51 0;
#X connect 17 0 15 0;
#X connect 19 0 20 1;
#X connect 20 0 19 0;
#X connect 20 0 22 0;
#X connect 22 0 23 1;
#X connect 22 0 25 0;
#X connect 23 0 26 0;
#X connect 24 0 23 0;
#X connect 24 0 58 0;
#X connect 25 0 24 0;
#X connect 27 0 28 1;
#X connect 28 0 27 0;
#X connect 28 0 30 0;
#X connect 30 0 31 1;
#X connect 30 0 33 0;
#X connect 31 0 41 0;
#X connect 32 0 31 0;
#X connect 32 0 58 0;
#X connect 33 0 32 0;
#X connect 34 0 35 1;
#X connect 35 0 34 0;
#X connect 35 0 37 0;
#X connect 37 0 38 1;
#X connect 37 0 40 0;
#X connect 38 0 42 0;
#X connect 39 0 38 0;
#X connect 39 0 58 0;
#X connect 40 0 39 0;
#X connect 44 0 45 1;
#X connect 45 0 44 0;
#X connect 45 0 47 0;
#X connect 47 0 48 1;
#X connect 47 0 50 0;
#X connect 48 0 53 0;
#X connect 49 0 48 0;
#X connect 49 0 58 0;
#X connect 50 0 49 0;
#X connect 51 0 47 1;
#X connect 54 0 55 0;
#X connect 55 1 56 0;
#X connect 56 0 57 0;
#X connect 56 0 59 0;
#X connect 58 0 54 1;
#X connect 59 0 54 1;
#X restore 947 198 pd significant_movement_detector;
#N canvas 0 96 1920 984 watersounds 0;
#X obj 22 494 hip~ 500;
#X obj 22 515 hip~ 500;
#X obj 22 536 hip~ 500;
#X obj 22 473 lop~ 150;
#X obj 22 452 lop~ 100;
#X obj 100 65 noise~;
#X obj 100 23 loadbang;
#X obj 180 65 noise~;
#X obj 180 23 loadbang;
#X obj 100 86 /~ 2;
#X obj 100 107 +~ 0.5;
#X obj 180 86 /~ 2;
#X obj 180 107 +~ 0.5;
#X msg 100 44 seed 210;
#X msg 180 44 seed 214;
#X obj 359 65 noise~;
#X obj 359 23 loadbang;
#X obj 436 65 noise~;
#X obj 436 23 loadbang;
#X obj 359 86 /~ 2;
#X obj 359 107 +~ 0.5;
#X obj 436 86 /~ 2;
#X obj 436 107 +~ 0.5;
#X msg 359 44 seed 310;
#X msg 436 44 seed 314;
#X obj 22 430 hip~ 4000;
#X obj 144 227 noise~;
#X obj 264 248 pow~ 11;
#X obj 264 290 lop~ 500;
#X obj 144 248 pow~ 2;
#X obj 144 393 hip~ 3000;
#X obj 144 372 hip~ 3000;
#X obj 144 351 bp~ 6000 0.7;
#X obj 264 269 lop~ 1500;
#X obj 159 290 r \$0-s-mid-tgl-4;
#X obj 279 311 r \$0-s-low-tgl-4;
#X obj 144 269 *~ 0.08;
#X obj 144 311 *~ 1;
#X obj 264 332 *~ 1;
#X obj 144 414 *~ 0.25;
#X obj 22 130 running-water~ 500 3 1 20 20 3000 6000 12;
#X obj 22 156 running-water~ 500 6 2 10 20 2500 5000 6;
#X obj 22 182 running-water~ 3000 6 1 1 10 1000 2000 12;
#X obj 282 130 running-water~ 530 3 2 20 40 1250 2500 6;
#X obj 282 156 running-water~ 530 6 2 10 20 1500 3000 6;
#X obj 282 182 running-water~ 2120 9 2 2 10 1750 7000 3;
#X obj 282 222 running-water~ 2120 9 2 1 5 1000 500 6;
#X obj 298 896 outlet~;
#X obj 22 556 *~ 10000;
#X obj 93 690 *~;
#X obj 153 617 r sceneobjectmovementfromcpp;
#X obj 153 640 moses 0;
#X obj 194 667 expr min(($f1*2) + 0.15 \, 1);
#X obj 415 622 r modechange;
#X msg 415 756 bang;
#X obj 413 725 route 0 1 2 3;
#X obj 415 786 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 457 756 loadbang;
#X obj 296 868 *~ 1;
#X obj 415 832 line 1;
#X obj 414 651 t b f;
#X obj 414 700 spigot 0;
#X msg 441 677 1;
#X text 511 677 //don't let float through on first mode change;
#X msg 415 809 \$1 4000;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 48 0;
#X connect 3 0 0 0;
#X connect 4 0 3 0;
#X connect 5 0 9 0;
#X connect 6 0 13 0;
#X connect 7 0 11 0;
#X connect 8 0 14 0;
#X connect 9 0 10 0;
#X connect 10 0 40 1;
#X connect 11 0 12 0;
#X connect 12 0 40 2;
#X connect 13 0 5 0;
#X connect 14 0 7 0;
#X connect 15 0 19 0;
#X connect 16 0 23 0;
#X connect 17 0 21 0;
#X connect 18 0 24 0;
#X connect 19 0 20 0;
#X connect 20 0 43 1;
#X connect 21 0 22 0;
#X connect 22 0 43 2;
#X connect 23 0 15 0;
#X connect 24 0 17 0;
#X connect 25 0 4 0;
#X connect 26 0 29 0;
#X connect 26 0 27 0;
#X connect 27 0 33 0;
#X connect 28 0 38 0;
#X connect 29 0 36 0;
#X connect 30 0 39 0;
#X connect 31 0 30 0;
#X connect 32 0 31 0;
#X connect 33 0 28 0;
#X connect 34 0 37 1;
#X connect 35 0 38 1;
#X connect 36 0 37 0;
#X connect 37 0 32 0;
#X connect 38 0 32 0;
#X connect 39 0 25 0;
#X connect 40 0 41 0;
#X connect 40 1 41 1;
#X connect 40 2 41 2;
#X connect 41 0 42 0;
#X connect 41 1 42 1;
#X connect 41 2 42 2;
#X connect 42 0 25 0;
#X connect 43 0 44 0;
#X connect 43 1 44 1;
#X connect 43 2 44 2;
#X connect 44 0 45 0;
#X connect 44 1 45 1;
#X connect 44 2 45 2;
#X connect 45 0 46 0;
#X connect 45 1 46 1;
#X connect 45 2 46 2;
#X connect 46 0 25 0;
#X connect 48 0 49 0;
#X connect 49 0 58 0;
#X connect 50 0 51 0;
#X connect 51 1 52 0;
#X connect 52 0 49 1;
#X connect 53 0 60 0;
#X connect 54 0 56 0;
#X connect 55 0 54 0;
#X connect 55 3 54 0;
#X connect 56 0 64 0;
#X connect 57 0 56 0;
#X connect 58 0 47 0;
#X connect 59 0 58 1;
#X connect 60 0 62 0;
#X connect 60 1 61 0;
#X connect 61 0 55 0;
#X connect 62 0 61 1;
#X connect 64 0 59 0;
#X restore 87 529 pd watersounds;
#X text 931 169 //detect significant camera movements;
#N canvas 691 371 603 447 meowsound 0;
#X obj 169 431 outlet~ meowwwww;
#X obj 119 28 r significant_spin;
#X obj 168 383 readsf~;
#X msg 168 360 open samples/meow.wav \, 1;
#X msg 263 248 1;
#X obj 168 329 spigot;
#X text 347 219 //meow at most every 3 seconds;
#X obj 128 191 t b b;
#X msg 172 259 0;
#X obj 263 218 metro 3000;
#X obj 263 192 loadbang;
#X obj 168 406 *~ 4;
#X obj 119 52 random 16;
#X obj 119 75 moses 15;
#X text 191 63 //1 in 16 chance of meow sound if spinning;
#X connect 1 0 12 0;
#X connect 2 0 11 0;
#X connect 3 0 2 0;
#X connect 4 0 5 1;
#X connect 5 0 3 0;
#X connect 7 0 8 0;
#X connect 7 1 5 0;
#X connect 8 0 5 1;
#X connect 9 0 4 0;
#X connect 10 0 9 0;
#X connect 11 0 0 0;
#X connect 12 0 13 0;
#X connect 13 1 7 0;
#X restore 186 530 pd meowsound;
#X obj 736 67 r saturationfromcpp;
#X text 744 42 //mean saturation 0-255;
#X obj 976 785 switch~;
#X obj 976 750 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 980 723 loadbang, f 9;
#N canvas 0 96 1920 984 saturation_filter 0;
#X obj 366 286 lowpass~;
#X obj 356 138 r saturationfromcpp;
#X obj 243 341 +~;
#X obj 366 309 /~ 2;
#X obj 218 276 lowpass~;
#X obj 298 71 inlet~;
#X obj 259 439 outlet~;
#X text 401 80 //add some filtering based on image saturation to make
it sound muffled when things are grey...;
#X obj 216 302 /~ 2;
#X obj 201 245 line 1000;
#X msg 518 228 \$1 500;
#X obj 518 252 line 1;
#X text 435 229 //freq;
#X text 576 234 //q;
#X text 460 296 //more filtered mix;
#X text 88 292 //less filtered mix;
#X obj 385 256 line 1000;
#X msg 385 232 \$1 250;
#X msg 201 220 \$1 250;
#X obj 378 192 expr pow($f1 - 50 \, 2) \; $f1 / 32, f 24;
#X obj 177 86 loadbang;
#X obj 201 197 expr pow($f1 \, 2) * 4, f 24;
#X obj 177 109 f 80;
#X connect 0 0 3 0;
#X connect 1 0 19 0;
#X connect 1 0 21 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 8 0;
#X connect 5 0 0 0;
#X connect 5 0 4 0;
#X connect 8 0 2 0;
#X connect 9 0 4 1;
#X connect 10 0 11 0;
#X connect 11 0 0 2;
#X connect 16 0 0 1;
#X connect 17 0 16 0;
#X connect 18 0 9 0;
#X connect 19 0 17 0;
#X connect 19 1 10 0;
#X connect 20 0 22 0;
#X connect 21 0 18 0;
#X connect 22 0 19 0;
#X connect 22 0 21 0;
#X restore 514 819 pd saturation_filter;
#X text 276 266 //65.41 hz is low C;
#X text 278 329 60 - C 62 - D 64 - E 65 - F 67 - G 69 - A 71 - B;
#N canvas 0 96 960 984 harp 1;
#X obj 429 755 outlet~;
#X obj 385 226 harp~-help;
#X obj 386 199 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 384 63 r pianotrigger;
#X obj 410 168 delay 1300;
#X msg 384 86 bang;
#X obj 383 261 *~ 4;
#X obj 383 113 delay 999;
#X obj 381 137 delay 999;
#X text 462 122 //use 2 delays to avoid getting triggered twice within
1 second;
#X text 276 144 //turn on;
#X text 495 174 //turn off;
#X text 45 495 //@@@maybe add FM synthesis to change frequency of harp
based on hues?;
#X obj 294 351 delwrite~ harp_delay 1600;
#X obj 417 435 *~ 0.6;
#X obj 494 361 line 2000;
#X msg 566 278 set 2000;
#X msg 486 286 0 5000;
#X obj 416 400 delread~ harp_delay 1600;
#X obj 596 470 r modechange;
#X msg 600 529 bang;
#X obj 596 493 route 0 1 2 3;
#X obj 600 559 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 688 527 loadbang;
#X obj 426 650 *~ 1;
#X obj 600 605 line 1;
#X msg 600 582 \$1 4000;
#N canvas 0 96 1920 984 pitchshifter 0;
#X obj 74 79 biquad~ 0.83774 -0.06338 0.06338 -0.83774 1;
#X obj 74 53 biquad~ 1.94632 -0.94657 0.94657 -1.94632 1;
#X obj 55 136 biquad~ -0.02569 0.260502 -0.260502 0.02569 1;
#X obj 55 162 biquad~ 1.8685 -0.870686 0.870686 -1.8685 1;
#X obj 55 26 inlet~;
#X obj 471 26 inlet;
#X text 430 0 bang to clear;
#X text 49 3 signal in;
#X msg 471 99 clear;
#X obj 277 569 cos~;
#X obj 313 547 +~ -0.25;
#X obj 313 569 cos~;
#X obj 74 642 *~;
#X obj 157 643 *~;
#X obj 74 678 -~;
#X obj 152 791 outlet~;
#X obj 222 792 outlet~;
#X obj 144 679 +~;
#X text 150 817 positive;
#X text 223 818 negative;
#X obj 277 517 phasor~;
#X obj 297 384 r huesecondmaxfromcpp;
#X obj 190 389 r huemaxfromcpp;
#X obj 436 394 r huethirdmaxfromcpp;
#X obj 305 220 loadbang;
#X obj 307 275 f 0;
#X obj 320 296 expr ($f1 + 1) % 3;
#X obj 190 419 f;
#X obj 295 412 f;
#X obj 436 422 f;
#X obj 307 339 sel 0 1 2;
#X obj 276 463 - 70;
#X text 612 399 //arpeggiate different pitches based on hues;
#X obj 305 243 metro 62.5;
#X obj 276 486 * 3;
#X connect 0 0 13 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 12 0;
#X connect 4 0 1 0;
#X connect 4 0 2 0;
#X connect 4 0 15 0;
#X connect 4 0 16 0;
#X connect 5 0 8 0;
#X connect 8 0 1 0;
#X connect 8 0 0 0;
#X connect 8 0 2 0;
#X connect 8 0 3 0;
#X connect 9 0 12 1;
#X connect 10 0 11 0;
#X connect 11 0 13 1;
#X connect 12 0 14 0;
#X connect 12 0 17 0;
#X connect 13 0 14 1;
#X connect 13 0 17 1;
#X connect 14 0 15 0;
#X connect 17 0 16 0;
#X connect 20 0 10 0;
#X connect 20 0 9 0;
#X connect 21 0 28 1;
#X connect 22 0 27 1;
#X connect 23 0 29 1;
#X connect 24 0 33 0;
#X connect 25 0 26 0;
#X connect 25 0 30 0;
#X connect 26 0 25 1;
#X connect 27 0 31 0;
#X connect 28 0 31 0;
#X connect 29 0 31 0;
#X connect 30 0 27 0;
#X connect 30 1 28 0;
#X connect 30 2 29 0;
#X connect 31 0 34 0;
#X connect 33 0 25 0;
#X connect 34 0 20 0;
#X restore 424 513 pd pitchshifter;
#X text 694 504 //mode change stuff;
#X obj 439 558 lpf~;
#X connect 1 0 6 0;
#X connect 2 0 1 0;
#X connect 3 0 5 0;
#X connect 4 0 2 0;
#X connect 5 0 7 0;
#X connect 5 0 16 0;
#X connect 6 0 13 0;
#X connect 6 0 24 0;
#X connect 7 0 8 0;
#X connect 8 0 2 0;
#X connect 8 0 4 0;
#X connect 8 0 17 0;
#X connect 14 0 13 0;
#X connect 14 0 27 0;
#X connect 15 0 29 1;
#X connect 16 0 15 0;
#X connect 17 0 15 0;
#X connect 18 0 14 0;
#X connect 19 0 21 0;
#X connect 20 0 22 0;
#X connect 21 0 20 0;
#X connect 21 1 20 0;
#X connect 21 2 20 0;
#X connect 21 3 20 0;
#X connect 22 0 26 0;
#X connect 23 0 22 0;
#X connect 24 0 0 0;
#X connect 25 0 24 1;
#X connect 26 0 25 0;
#X connect 27 0 29 0;
#X connect 27 1 29 0;
#X connect 29 0 24 0;
#X restore 421 524 pd harp;
#N canvas 0 96 1920 984 movement_delay_mixer 0;
#X obj 560 33 inlet~;
#X obj 686 948 outlet~;
#X obj 1727 344 r significant_right_move;
#X obj 1579 345 r significant_left_move;
#X obj 1441 342 r significant_up_move;
#X obj 1284 343 r significant_down_move;
#X obj 1165 344 r significant_spin;
#X obj 1260 526 line 0;
#X obj 1401 410 delay 250;
#X text 1313 527 //delay mix;
#X obj 1260 596 expr 1 - $f1;
#X text 1341 599 //normal mix;
#X text 1225 311 //more delay mix as camera moves;
#X obj 688 768 +~;
#X text 1248 212 //250ms delay;
#X msg 1317 480 0 1000;
#X obj 1051 179 delwrite~ movement_delay 750;
#X obj 588 643 *~ 1;
#X obj 1059 571 *~ 0;
#X obj 1060 244 delread~ movement_delay 444;
#X msg 1262 480 1 6000;
#X obj 1076 276 *~ 0.87;
#X obj 1039 410 lpf~;
#X obj 1060 359 loadbang;
#X obj 1060 382 1500;
#X text 1009 439 //filter the delay a bit;
#X obj 690 290 r modechange;
#X msg 744 348 bang;
#X obj 690 313 route 0 1 2 3;
#X obj 744 378 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 786 348 loadbang;
#X obj 711 648 spigot 1;
#X obj 854 582 spigot 1;
#X obj 744 423 moses 1;
#X obj 721 455 t b f;
#X text 679 427 //NO DELAY;
#X text 792 426 //YES DELAY;
#X msg 711 671 \$1;
#X msg 815 475 0;
#X obj 778 449 t f b;
#X msg 648 497 1 4000;
#X msg 706 494 0 4000;
#X msg 854 605 \$1;
#X obj 648 520 line;
#X obj 706 517 line;
#X connect 0 0 16 0;
#X connect 0 0 17 0;
#X connect 2 0 8 0;
#X connect 2 0 20 0;
#X connect 3 0 8 0;
#X connect 3 0 20 0;
#X connect 4 0 8 0;
#X connect 4 0 20 0;
#X connect 5 0 8 0;
#X connect 5 0 20 0;
#X connect 6 0 8 0;
#X connect 6 0 20 0;
#X connect 7 0 10 0;
#X connect 7 0 32 0;
#X connect 8 0 15 0;
#X connect 10 0 31 0;
#X connect 13 0 1 0;
#X connect 15 0 7 0;
#X connect 17 0 13 0;
#X connect 18 0 13 1;
#X connect 19 0 21 0;
#X connect 20 0 7 0;
#X connect 21 0 16 0;
#X connect 21 0 22 0;
#X connect 22 0 18 0;
#X connect 23 0 24 0;
#X connect 24 0 22 1;
#X connect 26 0 28 0;
#X connect 27 0 29 0;
#X connect 28 3 27 0;
#X connect 29 0 33 0;
#X connect 30 0 29 0;
#X connect 31 0 37 0;
#X connect 32 0 42 0;
#X connect 33 0 34 0;
#X connect 33 1 39 0;
#X connect 34 0 40 0;
#X connect 34 0 41 0;
#X connect 34 1 31 1;
#X connect 34 1 32 1;
#X connect 37 0 43 0;
#X connect 38 0 7 0;
#X connect 39 0 31 1;
#X connect 39 0 32 1;
#X connect 39 1 38 0;
#X connect 40 0 43 0;
#X connect 41 0 44 0;
#X connect 42 0 44 0;
#X connect 43 0 17 1;
#X connect 44 0 18 1;
#X restore 515 850 pd movement_delay_mixer;
#X text 142 485 //highs;
#X text 453 476 //mids;
#X text 741 479 //lows;
#N canvas 465 331 450 300 mute_when_black 0;
#X text 46 22 //slowly fade out when black;
#X obj 83 56 inlet~;
#X obj 110 257 outlet~;
#X obj 222 57 r imagedarkfromcpp;
#X obj 112 156 *~ 1;
#X obj 175 137 line 1;
#X msg 174 83 0 2000;
#X msg 241 104 1 250;
#X obj 241 81 delay 150;
#X connect 1 0 4 0;
#X connect 3 0 6 0;
#X connect 3 0 8 0;
#X connect 4 0 2 0;
#X connect 5 0 4 1;
#X connect 6 0 5 0;
#X connect 7 0 5 0;
#X connect 8 0 7 0;
#X restore 416 661 pd mute_when_black;
#N canvas 659 305 837 540 tibetan_bowl 0;
#X obj 172 32 r imagewhitefromcpp;
#X obj 149 332 outlet~;
#X obj 150 302 readsf~;
#X obj 168 121 spigot 1;
#X obj 172 59 t b b;
#X msg 213 96 0;
#X obj 269 157 delay 15000;
#X msg 269 182 1;
#X msg 150 279 open samples/tibetanbowl.wav \, 1;
#X connect 0 0 4 0;
#X connect 2 0 1 0;
#X connect 3 0 6 0;
#X connect 3 0 8 0;
#X connect 4 0 5 0;
#X connect 4 1 3 0;
#X connect 5 0 3 1;
#X connect 6 0 7 0;
#X connect 7 0 3 1;
#X connect 8 0 2 0;
#X restore 27 592 pd tibetan_bowl;
#N canvas 262 324 887 456 mode_selektor 0;
#X text 342 39 //logic for changing modes;
#X obj 310 350 s modechange;
#X obj 310 102 r significant_move_any;
#X text 499 167 //every 16 camera movements change it;
#X obj 309 273 f 0;
#X text 505 285 //mode number counter;
#X msg 309 243 bang;
#X obj 309 220 moses 1;
#X text 33 103 //@@@hues or something affect mode?;
#X obj 309 147 i 1;
#X obj 345 174 expr ($i1 + 1) % 16;
#X obj 345 300 expr ($i1 + 1) % 4;
#X obj 165 220 loadbang;
#X text 34 218 //starts on mode 0;
#X obj 147 354 print mode;
#X connect 2 0 9 0;
#X connect 4 0 1 0;
#X connect 4 0 11 0;
#X connect 4 0 14 0;
#X connect 6 0 4 0;
#X connect 7 0 6 0;
#X connect 9 0 7 0;
#X connect 9 0 10 0;
#X connect 10 0 9 1;
#X connect 11 0 4 1;
#X connect 12 0 4 0;
#X restore 934 260 pd mode_selektor;
#N canvas 0 96 1920 984 color_lfo 0;
#X obj 409 75 inlet~;
#X obj 446 920 outlet~;
#X obj 597 188 r huemaxfromcpp;
#X obj 597 211 change;
#X obj 410 667 +~;
#X obj 527 454 *~;
#X text 597 458 //dirty mix, f 12;
#X text 99 451 //clean mix;
#X obj 599 393 line 0;
#X obj 597 276 delay 500;
#X obj 527 477 *~;
#X obj 102 410 expr~ $v1 * (1-$f2);
#X obj 659 342 spigot 1;
#X obj 597 234 t b b b;
#X msg 724 277 1;
#X msg 597 302 0;
#X msg 543 301 0 2000;
#X obj 541 428 osc~ 4;
#X msg 659 277 0.5 2000;
#X obj 447 836 *~ 1;
#X text 707 553 //LFO of up to 50% depth which gets stronger if the
dominant image color changes a lot;
#X connect 0 0 17 0;
#X connect 0 0 11 0;
#X connect 2 0 3 0;
#X connect 3 0 13 0;
#X connect 4 0 19 0;
#X connect 5 0 10 0;
#X connect 8 0 10 1;
#X connect 8 0 11 1;
#X connect 9 0 15 0;
#X connect 9 0 16 0;
#X connect 10 0 4 1;
#X connect 11 0 4 0;
#X connect 12 0 8 0;
#X connect 13 0 9 0;
#X connect 13 1 18 0;
#X connect 13 2 14 0;
#X connect 14 0 12 1;
#X connect 15 0 12 1;
#X connect 16 0 8 0;
#X connect 17 0 5 1;
#X connect 18 0 12 0;
#X connect 19 0 1 0;
#X restore 417 624 pd color_lfo;
#X obj 515 789 /~ 8;
#N canvas 0 96 960 984 cymbals 0;
#X obj 442 219 pd~ -ninsig 0 -noutsig 1;
#X obj 442 101 loadbang;
#X obj 63 103 r contoursfromcpp;
#X obj 582 254 outlet~;
#X obj 186 105 r pianotrigger;
#X obj 286 104 r modechange;
#X msg 286 127 modechange \$1;
#X msg 186 128 pianotrigger \$1;
#X msg 63 126 contoursfromcpp \$1;
#X msg 442 124 pd~ start -nogui sub-cmbcym~.pd;
#X connect 0 1 3 0;
#X connect 1 0 9 0;
#X connect 2 0 8 0;
#X connect 4 0 7 0;
#X connect 5 0 6 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 8 0 0 0;
#X connect 9 0 0 0;
#X restore 291 523 pd cymbals;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 18 0 1 0;
#X connect 19 0 57 0;
#X connect 20 0 21 0;
#X connect 22 0 20 0;
#X connect 24 0 23 0;
#X connect 24 0 23 1;
#X connect 24 0 25 0;
#X connect 28 0 56 0;
#X connect 29 0 28 0;
#X connect 37 0 53 0;
#X connect 39 0 53 0;
#X connect 43 0 42 0;
#X connect 44 0 43 0;
#X connect 45 0 49 0;
#X connect 48 0 56 0;
#X connect 49 0 24 0;
#X connect 53 0 57 0;
#X connect 54 0 24 0;
#X connect 56 0 53 0;
#X connect 57 0 45 0;
#X connect 58 0 56 0;
